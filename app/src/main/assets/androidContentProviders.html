<html>

<body lang=EN-US link=blue vlink="#954F72" style='tab-interval:.5in'>

<div class=WordSection1>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal;mso-outline-level:1'><b><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman";mso-font-kerning:18.0pt;color:#000066'>Android Content Providers<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>A content provider component
supplies data from one application to others on request. Such requests are
handled by the methods of the <span class=SpellE>ContentResolver</span> class.
A content provider can use different ways to store its data and the data can be
stored in a database, in files, or even over a network.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Each Android applications runs in
its own process with its own permissions which keeps an application data hidden
from another application. But sometimes it is required to share data across
applications. This is where content providers become very useful.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Content providers let you centralize
content in one place and have many different applications access it as needed.
A content provider behaves very much like a database where you can query it,
edit its content, as well as add or delete content <span class=SpellE>usingg</span>
insert(), update(), delete(), and query() methods. In most cases this data is
stored in <span class=GramE>an</span> <span class=SpellE><b>SQlite</b></span>
database.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>A content provider is implemented as
a subclass of <span class=SpellE><b>ContentProvider</b></span> class and must
implement a standard set of APIs that enable other applications to perform
transactions.<o:p></o:p></span></p>
<!--  --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">MyContentProvider</span> <span style="color: #008000; font-weight: bold">extends</span>  ContentProvider <span style="color: #666666">{</span>
 
<span style="color: #666666">}</span>
</pre></div>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal;mso-outline-level:2'><b><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'>Content URIs<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>To query a content provider, you
specify the query string in the form of a URI which has following format:<o:p></o:p></span></p>
<!--  --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">&lt;prefix&gt;</span>://<span style="color: #008000; font-weight: bold">&lt;authority&gt;</span>/<span style="color: #008000; font-weight: bold">&lt;data_type&gt;</span>/<span style="color: #008000; font-weight: bold">&lt;id&gt;</span>
</pre></div>


<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Here is the <span class=SpellE>detaial</span>
of various parts of the URI:<o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellpadding=0 style='mso-cellspacing:1.5pt;
 border:solid windowtext 1.0pt;mso-border-alt:solid windowtext .5pt;mso-yfti-tbllook:
 1184'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='font-size:12.0pt;
  font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'>Part<o:p></o:p></span></b></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='font-size:12.0pt;
  font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'>Description<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>prefix<o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>This is always set to content<span
  class=GramE>:/</span>/<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>authority<o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>This specifies the name of the
  content provider, for example <i>contacts</i>, <i>browser</i> etc. For
  third-party content providers, this could be the fully qualified name, such
  as <span class=SpellE><i>com.tutorialspoint.statusprovider</i></span><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span class=SpellE><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>data_type</span></span><span
  style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
  "Times New Roman"'><o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>This indicates the type of data
  that this particular provider provides. For example, if you are getting all
  the contacts from the <i>Contacts</i> content provider, then the data path
  would be <i>people</i> and URI would look like this <i>content://contacts/people</i><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>id<o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>This specifies the specific record
  requested. For example, if you are looking for contact number 5 in the
  Contacts content provider then URI would look like this <i>content<span
  class=GramE>:/</span>/contacts/people/5</i>.<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal;mso-outline-level:2'><b><span style='font-size:14.0pt;
mso-bidi-font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'>Create Content Provider<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>This involves number of simple steps
to create your own content provider. <o:p></o:p></span></p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l1 level1 lfo1;tab-stops:list .5in'><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>First of all you need to create a Content Provider
     class that extends the <span class=SpellE><i>ContentProviderbase</i></span>
     class.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l1 level1 lfo1;tab-stops:list .5in'><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>Second, you need to define your content provider URI
     address which will be used to access the content.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l1 level1 lfo1;tab-stops:list .5in'><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>Next you will need to create your own database to keep
     the content. Usually, Android uses SQLite database and framework needs to
     override <span class=SpellE><span class=GramE><i>onCreate</i></span></span><span
     class=GramE><i>(</i></span><i>)</i> method which will use SQLite Open
     Helper method to create or open the provider's <span class=SpellE>databse</span>.
     When your application is launched, the <span class=SpellE><span
     class=GramE><i>onCreate</i></span></span><span class=GramE><i>(</i></span><i>)</i>
     handler of each of its Content Providers is called on the main application
     thread.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l1 level1 lfo1;tab-stops:list .5in'><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>Next you will have to implement Content Provider
     queries to perform different database specific operations.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l1 level1 lfo1;tab-stops:list .5in'><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>Finally register your Content Provider in your <span
     class=SpellE>acitivity</span> file using &lt;provider&gt; tag.<o:p></o:p></span></li>
</ul>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Here is the list of methods which
you need to override in Content Provider class to have your Content Provider
working:<o:p></o:p></span></p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l0 level1 lfo2;tab-stops:list .5in'><span
     class=SpellE><span class=GramE><b><span style='font-size:12.0pt;
     font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'>onCreate</span></b></span></span><span
     class=GramE><b><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
     mso-fareast-font-family:"Times New Roman"'>(</span></b></span><b><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>)</span></b><span style='font-size:12.0pt;font-family:
     "Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'> This
     method is called when the provider is started.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l0 level1 lfo2;tab-stops:list .5in'><span
     class=GramE><b><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
     mso-fareast-font-family:"Times New Roman"'>query(</span></b></span><b><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>)</span></b><span style='font-size:12.0pt;font-family:
     "Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'> This
     method receives a request from a client. The result is returned as a
     Cursor object.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l0 level1 lfo2;tab-stops:list .5in'><span
     class=GramE><b><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
     mso-fareast-font-family:"Times New Roman"'>insert(</span></b></span><b><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>)</span></b><span style='font-size:12.0pt;font-family:
     "Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'>This
     method inserts a new record into the content provider.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l0 level1 lfo2;tab-stops:list .5in'><span
     class=GramE><b><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
     mso-fareast-font-family:"Times New Roman"'>delete(</span></b></span><b><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>)</span></b><span style='font-size:12.0pt;font-family:
     "Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'> This
     method deletes an existing record from the content provider.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l0 level1 lfo2;tab-stops:list .5in'><span
     class=GramE><b><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
     mso-fareast-font-family:"Times New Roman"'>update(</span></b></span><b><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>)</span></b><span style='font-size:12.0pt;font-family:
     "Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'> This
     method updates an existing record from the content provider.<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     line-height:normal;mso-list:l0 level1 lfo2;tab-stops:list .5in'><span
     class=SpellE><span class=GramE><b><span style='font-size:12.0pt;
     font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'>getType</span></b></span></span><span
     class=GramE><b><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
     mso-fareast-font-family:"Times New Roman"'>(</span></b></span><b><span
     style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
     "Times New Roman"'>)</span></b><span style='font-size:12.0pt;font-family:
     "Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'> This
     method returns the MIME type of the data at the given URI.<o:p></o:p></span></li>
</ul>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal;mso-outline-level:2'><b><span style='font-size:12.0pt;
font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'>Example<o:p></o:p></span></b></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>This example will explain you how to
create your own <span class=SpellE><i>ContentProvider</i></span>. So let's
follow the following steps to similar to what we followed while creating <i>Hello
World Example</i>:<o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellpadding=0 style='mso-cellspacing:1.5pt;
 border:solid windowtext 1.0pt;mso-border-alt:solid windowtext .5pt;mso-yfti-tbllook:
 1184'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='font-size:12.0pt;
  font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'>Step<o:p></o:p></span></b></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal align=center style='margin-bottom:0in;margin-bottom:.0001pt;
  text-align:center;line-height:normal'><b><span style='font-size:12.0pt;
  font-family:"Times New Roman","serif";mso-fareast-font-family:"Times New Roman"'>Description<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>1<o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>You will use Eclipse IDE to create
  an Android application and name it as <span class=SpellE><i>MyContentProvider</i></span>
  under a package <span class=SpellE><i>com.example.mycontentprovider</i></span>,
  with blank Activity.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>2<o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>Modify main activity file <i>MainActivity.java</i>
  to add two new methods <span class=SpellE><span class=GramE><i>onClickAddName</i></span></span><span
  class=GramE><i>(</i></span><i>)</i> and <span class=SpellE><i>onClickRetrieveStudents</i></span><i>()</i>.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>3<o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>Create a new java file called <i>StudentsProvider.java</i>
  under the package <span class=SpellE><i>com.example.mycontentprovider</i></span>
  to define your actual provider and associated methods.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>4<o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>Register your content provider in
  your <i>AndroidManifest.xml</i> file using &lt;provider.../&gt; tag <o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>5<o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>Modify the <span class=SpellE>detault</span>
  content of <i>res/layout/activity_main.xml</i> file to include a small GUI to
  add <span class=SpellE>sudents</span> records.<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>6<o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>Define required constants in <i>res/values/strings.xml</i>
  file<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7;mso-yfti-lastrow:yes'>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>7<o:p></o:p></span></p>
  </td>
  <td style='border:none;padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
  mso-fareast-font-family:"Times New Roman"'>Run the application to launch
  Android emulator and verify the result of the changes done in the <span
  class=SpellE>aplication</span>.<o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Following is the content of the
modified main activity file <span class=SpellE><b>src</b></span><b>/<span
class=SpellE>com.example.mycontentprovider</span>/MainActivity.java</b>. This
file can include each of the fundamental lifecycle methods. We have added two
new methods <span class=SpellE><span class=GramE><i>onClickAddName</i></span></span><span
class=GramE><i>(</i></span><i>)</i> and <span class=SpellE><i>onClickRetrieveStudents</i></span><i>()</i>
to handle user interaction with the application.<o:p></o:p></span></p>
<!--  --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">package</span> com<span style="color: #666666">.</span><span style="color: #7D9029">example</span><span style="color: #666666">.</span><span style="color: #7D9029">mycontentprovider</span><span style="color: #666666">;</span>
 
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.net.Uri</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.os.Bundle</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.app.Activity</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.content.ContentValues</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.content.CursorLoader</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.database.Cursor</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.view.Menu</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.view.View</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.widget.EditText</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.widget.Toast</span><span style="color: #666666">;</span>
 
<span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">MainActivity</span> <span style="color: #008000; font-weight: bold">extends</span> Activity <span style="color: #666666">{</span>
 
   <span style="color: #AA22FF">@Override</span>
   <span style="color: #008000; font-weight: bold">protected</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onCreate</span><span style="color: #666666">(</span>Bundle savedInstanceState<span style="color: #666666">)</span> <span style="color: #666666">{</span>
      <span style="color: #008000; font-weight: bold">super</span><span style="color: #666666">.</span><span style="color: #7D9029">onCreate</span><span style="color: #666666">(</span>savedInstanceState<span style="color: #666666">);</span>
      setContentView<span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">layout</span><span style="color: #666666">.</span><span style="color: #7D9029">activity_main</span><span style="color: #666666">);</span>
   <span style="color: #666666">}</span>
 
   <span style="color: #AA22FF">@Override</span>
   <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">boolean</span> <span style="color: #0000FF">onCreateOptionsMenu</span><span style="color: #666666">(</span>Menu menu<span style="color: #666666">)</span> <span style="color: #666666">{</span>
      getMenuInflater<span style="color: #666666">().</span><span style="color: #7D9029">inflate</span><span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">menu</span><span style="color: #666666">.</span><span style="color: #7D9029">main</span><span style="color: #666666">,</span> menu<span style="color: #666666">);</span>
      <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">true</span><span style="color: #666666">;</span>
   <span style="color: #666666">}</span>
 
   <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onClickAddName</span><span style="color: #666666">(</span>View view<span style="color: #666666">)</span> <span style="color: #666666">{</span>
      <span style="color: #408080; font-style: italic">// Add a new student record</span>
      ContentValues values <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> ContentValues<span style="color: #666666">();</span>
 
      values<span style="color: #666666">.</span><span style="color: #7D9029">put</span><span style="color: #666666">(</span>StudentsProvider<span style="color: #666666">.</span><span style="color: #7D9029">NAME</span><span style="color: #666666">,</span>
      <span style="color: #666666">((</span>EditText<span style="color: #666666">)</span>findViewById<span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">id</span><span style="color: #666666">.</span><span style="color: #7D9029">txtName</span><span style="color: #666666">)).</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">());</span>
     
      values<span style="color: #666666">.</span><span style="color: #7D9029">put</span><span style="color: #666666">(</span>StudentsProvider<span style="color: #666666">.</span><span style="color: #7D9029">GRADE</span><span style="color: #666666">,</span>
      <span style="color: #666666">((</span>EditText<span style="color: #666666">)</span>findViewById<span style="color: #666666">(</span>R<span style="color: #666666">.</span><span style="color: #7D9029">id</span><span style="color: #666666">.</span><span style="color: #7D9029">txtGrade</span><span style="color: #666666">)).</span><span style="color: #7D9029">getText</span><span style="color: #666666">().</span><span style="color: #7D9029">toString</span><span style="color: #666666">());</span>
 
      Uri uri <span style="color: #666666">=</span> getContentResolver<span style="color: #666666">().</span><span style="color: #7D9029">insert</span><span style="color: #666666">(</span>
      StudentsProvider<span style="color: #666666">.</span><span style="color: #7D9029">CONTENT_URI</span><span style="color: #666666">,</span> values<span style="color: #666666">);</span>
     
      Toast<span style="color: #666666">.</span><span style="color: #7D9029">makeText</span><span style="color: #666666">(</span>getBaseContext<span style="color: #666666">(),</span>
      uri<span style="color: #666666">.</span><span style="color: #7D9029">toString</span><span style="color: #666666">(),</span> Toast<span style="color: #666666">.</span><span style="color: #7D9029">LENGTH_LONG</span><span style="color: #666666">).</span><span style="color: #7D9029">show</span><span style="color: #666666">();</span>
   <span style="color: #666666">}</span>
 
   <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onClickRetrieveStudents</span><span style="color: #666666">(</span>View view<span style="color: #666666">)</span> <span style="color: #666666">{</span>
      <span style="color: #408080; font-style: italic">// Retrieve student records</span>
      String URL <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;content://com.example.provider.College/students&quot;</span><span style="color: #666666">;</span>
      Uri students <span style="color: #666666">=</span> Uri<span style="color: #666666">.</span><span style="color: #7D9029">parse</span><span style="color: #666666">(</span>URL<span style="color: #666666">);</span>
      Cursor c <span style="color: #666666">=</span> managedQuery<span style="color: #666666">(</span>students<span style="color: #666666">,</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">,</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">,</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">,</span> <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">);</span>
      <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>c<span style="color: #666666">.</span><span style="color: #7D9029">moveToFirst</span><span style="color: #666666">())</span> <span style="color: #666666">{</span>
         <span style="color: #008000; font-weight: bold">do</span><span style="color: #666666">{</span>
            Toast<span style="color: #666666">.</span><span style="color: #7D9029">makeText</span><span style="color: #666666">(</span><span style="color: #008000; font-weight: bold">this</span><span style="color: #666666">,</span>
            c<span style="color: #666666">.</span><span style="color: #7D9029">getString</span><span style="color: #666666">(</span>c<span style="color: #666666">.</span><span style="color: #7D9029">getColumnIndex</span><span style="color: #666666">(</span>StudentsProvider<span style="color: #666666">.</span><span style="color: #7D9029">_ID</span><span style="color: #666666">))</span> <span style="color: #666666">+</span>
            <span style="color: #BA2121">&quot;, &quot;</span> <span style="color: #666666">+</span>  c<span style="color: #666666">.</span><span style="color: #7D9029">getString</span><span style="color: #666666">(</span>c<span style="color: #666666">.</span><span style="color: #7D9029">getColumnIndex</span><span style="color: #666666">(</span> StudentsProvider<span style="color: #666666">.</span><span style="color: #7D9029">NAME</span><span style="color: #666666">))</span> <span style="color: #666666">+</span>
            <span style="color: #BA2121">&quot;, &quot;</span> <span style="color: #666666">+</span> c<span style="color: #666666">.</span><span style="color: #7D9029">getString</span><span style="color: #666666">(</span>c<span style="color: #666666">.</span><span style="color: #7D9029">getColumnIndex</span><span style="color: #666666">(</span> StudentsProvider<span style="color: #666666">.</span><span style="color: #7D9029">GRADE</span><span style="color: #666666">)),</span>
            Toast<span style="color: #666666">.</span><span style="color: #7D9029">LENGTH_SHORT</span><span style="color: #666666">).</span><span style="color: #7D9029">show</span><span style="color: #666666">();</span>
         <span style="color: #666666">}</span> <span style="color: #008000; font-weight: bold">while</span> <span style="color: #666666">(</span>c<span style="color: #666666">.</span><span style="color: #7D9029">moveToNext</span><span style="color: #666666">());</span>
      <span style="color: #666666">}</span>
   <span style="color: #666666">}</span>
<span style="color: #666666">}</span>
</pre></div>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Create new file
StudentsProvider.java under <span class=SpellE><i>com.example.mycontentprovider</i></span>
package and following is the content of <span class=SpellE><b>src</b></span><b>/<span
class=SpellE>com.example.mycontentprovider</span>/StudentsProvider.java</b>:<o:p></o:p></span></p>
<!--  --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">package</span> com<span style="color: #666666">.</span><span style="color: #7D9029">example</span><span style="color: #666666">.</span><span style="color: #7D9029">mycontentprovider</span><span style="color: #666666">;</span>
 
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">java.util.HashMap</span><span style="color: #666666">;</span>
 
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.content.ContentProvider</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.content.ContentUris</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.content.ContentValues</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.content.Context</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.content.UriMatcher</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.database.Cursor</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.database.SQLException</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.database.sqlite.SQLiteDatabase</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.database.sqlite.SQLiteOpenHelper</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.database.sqlite.SQLiteQueryBuilder</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.net.Uri</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">android.text.TextUtils</span><span style="color: #666666">;</span>
 
<span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">StudentsProvider</span> <span style="color: #008000; font-weight: bold">extends</span> ContentProvider <span style="color: #666666">{</span>
 
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> String PROVIDER_NAME <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;com.example.provider.College&quot;</span><span style="color: #666666">;</span>
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> String URL <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;content://&quot;</span> <span style="color: #666666">+</span> PROVIDER_NAME <span style="color: #666666">+</span> <span style="color: #BA2121">&quot;/students&quot;</span><span style="color: #666666">;</span>
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> Uri CONTENT_URI <span style="color: #666666">=</span> Uri<span style="color: #666666">.</span><span style="color: #7D9029">parse</span><span style="color: #666666">(</span>URL<span style="color: #666666">);</span>
 
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> String _ID <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;_id&quot;</span><span style="color: #666666">;</span>
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> String NAME <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;name&quot;</span><span style="color: #666666">;</span>
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> String GRADE <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;grade&quot;</span><span style="color: #666666">;</span>
 
   <span style="color: #008000; font-weight: bold">private</span> <span style="color: #008000; font-weight: bold">static</span> HashMap<span style="color: #666666">&lt;</span>String<span style="color: #666666">,</span> String<span style="color: #666666">&gt;</span> STUDENTS_PROJECTION_MAP<span style="color: #666666">;</span>
 
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> <span style="color: #B00040">int</span> STUDENTS <span style="color: #666666">=</span> <span style="color: #666666">1;</span>
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> <span style="color: #B00040">int</span> STUDENT_ID <span style="color: #666666">=</span> <span style="color: #666666">2;</span>
 
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> UriMatcher uriMatcher<span style="color: #666666">;</span>
   <span style="color: #008000; font-weight: bold">static</span><span style="color: #666666">{</span>
      uriMatcher <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> UriMatcher<span style="color: #666666">(</span>UriMatcher<span style="color: #666666">.</span><span style="color: #7D9029">NO_MATCH</span><span style="color: #666666">);</span>
      uriMatcher<span style="color: #666666">.</span><span style="color: #7D9029">addURI</span><span style="color: #666666">(</span>PROVIDER_NAME<span style="color: #666666">,</span> <span style="color: #BA2121">&quot;students&quot;</span><span style="color: #666666">,</span> STUDENTS<span style="color: #666666">);</span>
      uriMatcher<span style="color: #666666">.</span><span style="color: #7D9029">addURI</span><span style="color: #666666">(</span>PROVIDER_NAME<span style="color: #666666">,</span> <span style="color: #BA2121">&quot;students/#&quot;</span><span style="color: #666666">,</span> STUDENT_ID<span style="color: #666666">);</span>
   <span style="color: #666666">}</span>
 
   <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">    * Database specific constant declarations</span>
<span style="color: #408080; font-style: italic">    */</span>
   <span style="color: #008000; font-weight: bold">private</span> SQLiteDatabase db<span style="color: #666666">;</span>
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> String DATABASE_NAME <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;College&quot;</span><span style="color: #666666">;</span>
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> String STUDENTS_TABLE_NAME <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;students&quot;</span><span style="color: #666666">;</span>
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> <span style="color: #B00040">int</span> DATABASE_VERSION <span style="color: #666666">=</span> <span style="color: #666666">1;</span>
   <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> String CREATE_DB_TABLE <span style="color: #666666">=</span>
      <span style="color: #BA2121">&quot; CREATE TABLE &quot;</span> <span style="color: #666666">+</span> STUDENTS_TABLE_NAME <span style="color: #666666">+</span>
      <span style="color: #BA2121">&quot; (_id INTEGER PRIMARY KEY AUTOINCREMENT, &quot;</span> <span style="color: #666666">+</span>
      <span style="color: #BA2121">&quot; name TEXT NOT NULL, &quot;</span> <span style="color: #666666">+</span>
      <span style="color: #BA2121">&quot; grade TEXT NOT NULL);&quot;</span><span style="color: #666666">;</span>
 
   <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">    * Helper class that actually creates and manages</span>
<span style="color: #408080; font-style: italic">    * the provider&#39;s underlying data repository.</span>
<span style="color: #408080; font-style: italic">    */</span>
   <span style="color: #008000; font-weight: bold">private</span> <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">DatabaseHelper</span> <span style="color: #008000; font-weight: bold">extends</span> SQLiteOpenHelper <span style="color: #666666">{</span>
       DatabaseHelper<span style="color: #666666">(</span>Context context<span style="color: #666666">){</span>
          <span style="color: #008000; font-weight: bold">super</span><span style="color: #666666">(</span>context<span style="color: #666666">,</span> DATABASE_NAME<span style="color: #666666">,</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">,</span> DATABASE_VERSION<span style="color: #666666">);</span>
       <span style="color: #666666">}</span>
 
       <span style="color: #AA22FF">@Override</span>
       <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onCreate</span><span style="color: #666666">(</span>SQLiteDatabase db<span style="color: #666666">)</span>
       <span style="color: #666666">{</span>
          db<span style="color: #666666">.</span><span style="color: #7D9029">execSQL</span><span style="color: #666666">(</span>CREATE_DB_TABLE<span style="color: #666666">);</span>
       <span style="color: #666666">}</span>
      
       <span style="color: #AA22FF">@Override</span>
       <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">onUpgrade</span><span style="color: #666666">(</span>SQLiteDatabase db<span style="color: #666666">,</span> <span style="color: #B00040">int</span> oldVersion<span style="color: #666666">,</span>
                             <span style="color: #B00040">int</span> newVersion<span style="color: #666666">)</span> <span style="color: #666666">{</span>
          db<span style="color: #666666">.</span><span style="color: #7D9029">execSQL</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;DROP TABLE IF EXISTS &quot;</span> <span style="color: #666666">+</span>  STUDENTS_TABLE_NAME<span style="color: #666666">);</span>
          onCreate<span style="color: #666666">(</span>db<span style="color: #666666">);</span>
       <span style="color: #666666">}</span>
   <span style="color: #666666">}</span>
 
   <span style="color: #AA22FF">@Override</span>
   <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">boolean</span> <span style="color: #0000FF">onCreate</span><span style="color: #666666">()</span> <span style="color: #666666">{</span>
      Context context <span style="color: #666666">=</span> getContext<span style="color: #666666">();</span>
      DatabaseHelper dbHelper <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> DatabaseHelper<span style="color: #666666">(</span>context<span style="color: #666666">);</span>
      <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">       * Create a write able database which will trigger its</span>
<span style="color: #408080; font-style: italic">       * creation if it doesn&#39;t already exist.</span>
<span style="color: #408080; font-style: italic">       */</span>
      db <span style="color: #666666">=</span> dbHelper<span style="color: #666666">.</span><span style="color: #7D9029">getWritableDatabase</span><span style="color: #666666">();</span>
      <span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">(</span>db <span style="color: #666666">==</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">)?</span> <span style="color: #008000; font-weight: bold">false</span><span style="color: #666666">:</span><span style="color: #008000; font-weight: bold">true</span><span style="color: #666666">;</span>
   <span style="color: #666666">}</span>
 
   <span style="color: #AA22FF">@Override</span>
   <span style="color: #008000; font-weight: bold">public</span> Uri <span style="color: #0000FF">insert</span><span style="color: #666666">(</span>Uri uri<span style="color: #666666">,</span> ContentValues values<span style="color: #666666">)</span> <span style="color: #666666">{</span>
      <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">       * Add a new student record</span>
<span style="color: #408080; font-style: italic">       */</span>
      <span style="color: #B00040">long</span> rowID <span style="color: #666666">=</span> db<span style="color: #666666">.</span><span style="color: #7D9029">insert</span><span style="color: #666666">(</span>  STUDENTS_TABLE_NAME<span style="color: #666666">,</span> <span style="color: #BA2121">&quot;&quot;</span><span style="color: #666666">,</span> values<span style="color: #666666">);</span>
      <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">       * If record is added successfully</span>
<span style="color: #408080; font-style: italic">       */</span>
      <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>rowID <span style="color: #666666">&gt;</span> <span style="color: #666666">0)</span>
      <span style="color: #666666">{</span>
         Uri _uri <span style="color: #666666">=</span> ContentUris<span style="color: #666666">.</span><span style="color: #7D9029">withAppendedId</span><span style="color: #666666">(</span>CONTENT_URI<span style="color: #666666">,</span> rowID<span style="color: #666666">);</span>
         getContext<span style="color: #666666">().</span><span style="color: #7D9029">getContentResolver</span><span style="color: #666666">().</span><span style="color: #7D9029">notifyChange</span><span style="color: #666666">(</span>_uri<span style="color: #666666">,</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">);</span>
         <span style="color: #008000; font-weight: bold">return</span> _uri<span style="color: #666666">;</span>
      <span style="color: #666666">}</span>
      <span style="color: #008000; font-weight: bold">throw</span> <span style="color: #008000; font-weight: bold">new</span> <span style="color: #0000FF">SQLException</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Failed to add a record into &quot;</span> <span style="color: #666666">+</span> uri<span style="color: #666666">);</span>
   <span style="color: #666666">}</span>
 
   <span style="color: #AA22FF">@Override</span>
   <span style="color: #008000; font-weight: bold">public</span> Cursor <span style="color: #0000FF">query</span><span style="color: #666666">(</span>Uri uri<span style="color: #666666">,</span> String<span style="color: #666666">[]</span> projection<span style="color: #666666">,</span> String selection<span style="color: #666666">,</span>     
                       String<span style="color: #666666">[]</span> selectionArgs<span style="color: #666666">,</span> String sortOrder<span style="color: #666666">)</span> <span style="color: #666666">{</span>
     
      SQLiteQueryBuilder qb <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> SQLiteQueryBuilder<span style="color: #666666">();</span>
      qb<span style="color: #666666">.</span><span style="color: #7D9029">setTables</span><span style="color: #666666">(</span>STUDENTS_TABLE_NAME<span style="color: #666666">);</span>
     
      <span style="color: #008000; font-weight: bold">switch</span> <span style="color: #666666">(</span>uriMatcher<span style="color: #666666">.</span><span style="color: #7D9029">match</span><span style="color: #666666">(</span>uri<span style="color: #666666">))</span> <span style="color: #666666">{</span>
      <span style="color: #008000; font-weight: bold">case</span> <span style="color: #A0A000">STUDENTS:</span>
         qb<span style="color: #666666">.</span><span style="color: #7D9029">setProjectionMap</span><span style="color: #666666">(</span>STUDENTS_PROJECTION_MAP<span style="color: #666666">);</span>
         <span style="color: #008000; font-weight: bold">break</span><span style="color: #666666">;</span>
      <span style="color: #008000; font-weight: bold">case</span> <span style="color: #A0A000">STUDENT_ID:</span>
         qb<span style="color: #666666">.</span><span style="color: #7D9029">appendWhere</span><span style="color: #666666">(</span> _ID <span style="color: #666666">+</span> <span style="color: #BA2121">&quot;=&quot;</span> <span style="color: #666666">+</span> uri<span style="color: #666666">.</span><span style="color: #7D9029">getPathSegments</span><span style="color: #666666">().</span><span style="color: #7D9029">get</span><span style="color: #666666">(1));</span>
         <span style="color: #008000; font-weight: bold">break</span><span style="color: #666666">;</span>
      <span style="color: #008000; font-weight: bold">default</span><span style="color: #666666">:</span>
         <span style="color: #008000; font-weight: bold">throw</span> <span style="color: #008000; font-weight: bold">new</span> <span style="color: #0000FF">IllegalArgumentException</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Unknown URI &quot;</span> <span style="color: #666666">+</span> uri<span style="color: #666666">);</span>
      <span style="color: #666666">}</span>
      <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>sortOrder <span style="color: #666666">==</span> <span style="color: #008000; font-weight: bold">null</span> <span style="color: #666666">||</span> sortOrder <span style="color: #666666">==</span> <span style="color: #BA2121">&quot;&quot;</span><span style="color: #666666">){</span>
         <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">          * By default sort on student names</span>
<span style="color: #408080; font-style: italic">          */</span>
         sortOrder <span style="color: #666666">=</span> NAME<span style="color: #666666">;</span>
      <span style="color: #666666">}</span>
      Cursor c <span style="color: #666666">=</span> qb<span style="color: #666666">.</span><span style="color: #7D9029">query</span><span style="color: #666666">(</span>db<span style="color: #666666">,</span>  projection<span style="color: #666666">,</span>    selection<span style="color: #666666">,</span> selectionArgs<span style="color: #666666">,</span>
                          <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">,</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">,</span> sortOrder<span style="color: #666666">);</span>
      <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">       * register to watch a content URI for changes</span>
<span style="color: #408080; font-style: italic">       */</span>
      c<span style="color: #666666">.</span><span style="color: #7D9029">setNotificationUri</span><span style="color: #666666">(</span>getContext<span style="color: #666666">().</span><span style="color: #7D9029">getContentResolver</span><span style="color: #666666">(),</span> uri<span style="color: #666666">);</span>
 
      <span style="color: #008000; font-weight: bold">return</span> c<span style="color: #666666">;</span>
   <span style="color: #666666">}</span>
 
   <span style="color: #AA22FF">@Override</span>
   <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">int</span> <span style="color: #0000FF">delete</span><span style="color: #666666">(</span>Uri uri<span style="color: #666666">,</span> String selection<span style="color: #666666">,</span> String<span style="color: #666666">[]</span> selectionArgs<span style="color: #666666">)</span> <span style="color: #666666">{</span>
      <span style="color: #B00040">int</span> count <span style="color: #666666">=</span> <span style="color: #666666">0;</span>
 
      <span style="color: #008000; font-weight: bold">switch</span> <span style="color: #666666">(</span>uriMatcher<span style="color: #666666">.</span><span style="color: #7D9029">match</span><span style="color: #666666">(</span>uri<span style="color: #666666">)){</span>
      <span style="color: #008000; font-weight: bold">case</span> <span style="color: #A0A000">STUDENTS:</span>
         count <span style="color: #666666">=</span> db<span style="color: #666666">.</span><span style="color: #7D9029">delete</span><span style="color: #666666">(</span>STUDENTS_TABLE_NAME<span style="color: #666666">,</span> selection<span style="color: #666666">,</span> selectionArgs<span style="color: #666666">);</span>
         <span style="color: #008000; font-weight: bold">break</span><span style="color: #666666">;</span>
      <span style="color: #008000; font-weight: bold">case</span> <span style="color: #A0A000">STUDENT_ID:</span>
         String id <span style="color: #666666">=</span> uri<span style="color: #666666">.</span><span style="color: #7D9029">getPathSegments</span><span style="color: #666666">().</span><span style="color: #7D9029">get</span><span style="color: #666666">(1);</span>
         count <span style="color: #666666">=</span> db<span style="color: #666666">.</span><span style="color: #7D9029">delete</span><span style="color: #666666">(</span> STUDENTS_TABLE_NAME<span style="color: #666666">,</span> _ID <span style="color: #666666">+</span>  <span style="color: #BA2121">&quot; = &quot;</span> <span style="color: #666666">+</span> id <span style="color: #666666">+</span>
                <span style="color: #666666">(!</span>TextUtils<span style="color: #666666">.</span><span style="color: #7D9029">isEmpty</span><span style="color: #666666">(</span>selection<span style="color: #666666">)</span> <span style="color: #666666">?</span> <span style="color: #BA2121">&quot; AND (&quot;</span> <span style="color: #666666">+</span>
                selection <span style="color: #666666">+</span> <span style="color: #BA2121">&#39;)&#39;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&quot;&quot;</span><span style="color: #666666">),</span> selectionArgs<span style="color: #666666">);</span>
         <span style="color: #008000; font-weight: bold">break</span><span style="color: #666666">;</span>
      <span style="color: #008000; font-weight: bold">default</span><span style="color: #666666">:</span>
         <span style="color: #008000; font-weight: bold">throw</span> <span style="color: #008000; font-weight: bold">new</span> <span style="color: #0000FF">IllegalArgumentException</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Unknown URI &quot;</span> <span style="color: #666666">+</span> uri<span style="color: #666666">);</span>
      <span style="color: #666666">}</span>
     
      getContext<span style="color: #666666">().</span><span style="color: #7D9029">getContentResolver</span><span style="color: #666666">().</span><span style="color: #7D9029">notifyChange</span><span style="color: #666666">(</span>uri<span style="color: #666666">,</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">);</span>
      <span style="color: #008000; font-weight: bold">return</span> count<span style="color: #666666">;</span>
   <span style="color: #666666">}</span>
 
   <span style="color: #AA22FF">@Override</span>
   <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">int</span> <span style="color: #0000FF">update</span><span style="color: #666666">(</span>Uri uri<span style="color: #666666">,</span> ContentValues values<span style="color: #666666">,</span> String selection<span style="color: #666666">,</span>
                     String<span style="color: #666666">[]</span> selectionArgs<span style="color: #666666">)</span> <span style="color: #666666">{</span>
      <span style="color: #B00040">int</span> count <span style="color: #666666">=</span> <span style="color: #666666">0;</span>
     
      <span style="color: #008000; font-weight: bold">switch</span> <span style="color: #666666">(</span>uriMatcher<span style="color: #666666">.</span><span style="color: #7D9029">match</span><span style="color: #666666">(</span>uri<span style="color: #666666">)){</span>
      <span style="color: #008000; font-weight: bold">case</span> <span style="color: #A0A000">STUDENTS:</span>
         count <span style="color: #666666">=</span> db<span style="color: #666666">.</span><span style="color: #7D9029">update</span><span style="color: #666666">(</span>STUDENTS_TABLE_NAME<span style="color: #666666">,</span> values<span style="color: #666666">,</span>
                 selection<span style="color: #666666">,</span> selectionArgs<span style="color: #666666">);</span>
         <span style="color: #008000; font-weight: bold">break</span><span style="color: #666666">;</span>
      <span style="color: #008000; font-weight: bold">case</span> <span style="color: #A0A000">STUDENT_ID:</span>
         count <span style="color: #666666">=</span> db<span style="color: #666666">.</span><span style="color: #7D9029">update</span><span style="color: #666666">(</span>STUDENTS_TABLE_NAME<span style="color: #666666">,</span> values<span style="color: #666666">,</span> _ID <span style="color: #666666">+</span>
                 <span style="color: #BA2121">&quot; = &quot;</span> <span style="color: #666666">+</span> uri<span style="color: #666666">.</span><span style="color: #7D9029">getPathSegments</span><span style="color: #666666">().</span><span style="color: #7D9029">get</span><span style="color: #666666">(1)</span> <span style="color: #666666">+</span>
                 <span style="color: #666666">(!</span>TextUtils<span style="color: #666666">.</span><span style="color: #7D9029">isEmpty</span><span style="color: #666666">(</span>selection<span style="color: #666666">)</span> <span style="color: #666666">?</span> <span style="color: #BA2121">&quot; AND (&quot;</span> <span style="color: #666666">+</span>
                 selection <span style="color: #666666">+</span> <span style="color: #BA2121">&#39;)&#39;</span> <span style="color: #666666">:</span> <span style="color: #BA2121">&quot;&quot;</span><span style="color: #666666">),</span> selectionArgs<span style="color: #666666">);</span>
         <span style="color: #008000; font-weight: bold">break</span><span style="color: #666666">;</span>
      <span style="color: #008000; font-weight: bold">default</span><span style="color: #666666">:</span>
         <span style="color: #008000; font-weight: bold">throw</span> <span style="color: #008000; font-weight: bold">new</span> <span style="color: #0000FF">IllegalArgumentException</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Unknown URI &quot;</span> <span style="color: #666666">+</span> uri <span style="color: #666666">);</span>
      <span style="color: #666666">}</span>
      getContext<span style="color: #666666">().</span><span style="color: #7D9029">getContentResolver</span><span style="color: #666666">().</span><span style="color: #7D9029">notifyChange</span><span style="color: #666666">(</span>uri<span style="color: #666666">,</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">);</span>
      <span style="color: #008000; font-weight: bold">return</span> count<span style="color: #666666">;</span>
   <span style="color: #666666">}</span>
 
   <span style="color: #AA22FF">@Override</span>
   <span style="color: #008000; font-weight: bold">public</span> String <span style="color: #0000FF">getType</span><span style="color: #666666">(</span>Uri uri<span style="color: #666666">)</span> <span style="color: #666666">{</span>
      <span style="color: #008000; font-weight: bold">switch</span> <span style="color: #666666">(</span>uriMatcher<span style="color: #666666">.</span><span style="color: #7D9029">match</span><span style="color: #666666">(</span>uri<span style="color: #666666">)){</span>
      <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">       * Get all student records</span>
<span style="color: #408080; font-style: italic">       */</span>
      <span style="color: #008000; font-weight: bold">case</span> <span style="color: #A0A000">STUDENTS:</span>
         <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;vnd.android.cursor.dir/vnd.example.students&quot;</span><span style="color: #666666">;</span>
      <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">       * Get a particular student</span>
<span style="color: #408080; font-style: italic">       */</span>
      <span style="color: #008000; font-weight: bold">case</span> <span style="color: #A0A000">STUDENT_ID:</span>
         <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;vnd.android.cursor.item/vnd.example.students&quot;</span><span style="color: #666666">;</span>
      <span style="color: #008000; font-weight: bold">default</span><span style="color: #666666">:</span>
         <span style="color: #008000; font-weight: bold">throw</span> <span style="color: #008000; font-weight: bold">new</span> <span style="color: #0000FF">IllegalArgumentException</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Unsupported URI: &quot;</span> <span style="color: #666666">+</span> uri<span style="color: #666666">);</span>
      <span style="color: #666666">}</span>
   <span style="color: #666666">}</span>
<span style="color: #666666">}</span>
</pre></div>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Following will the modified content
of <i>AndroidManifest.xml</i> file. Here we have added &lt;provider.../&gt; tag
to include our content provider:<o:p></o:p></span></p>
<!--  --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #BC7A00">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;manifest</span> <span style="color: #7D9029">xmlns:android=</span><span style="color: #BA2121">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span style="color: #7D9029">package=</span><span style="color: #BA2121">&quot;com.example.mycontentprovider&quot;</span>
    <span style="color: #7D9029">android:versionCode=</span><span style="color: #BA2121">&quot;1&quot;</span>
    <span style="color: #7D9029">android:versionName=</span><span style="color: #BA2121">&quot;1.0&quot;</span> <span style="color: #008000; font-weight: bold">&gt;</span>
 
    <span style="color: #008000; font-weight: bold">&lt;uses-sdk</span>
        <span style="color: #7D9029">android:minSdkVersion=</span><span style="color: #BA2121">&quot;8&quot;</span>
        <span style="color: #7D9029">android:targetSdkVersion=</span><span style="color: #BA2121">&quot;17&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
 
    <span style="color: #008000; font-weight: bold">&lt;application</span>
        <span style="color: #7D9029">android:allowBackup=</span><span style="color: #BA2121">&quot;true&quot;</span>
        <span style="color: #7D9029">android:icon=</span><span style="color: #BA2121">&quot;@drawable/ic_launcher&quot;</span>
        <span style="color: #7D9029">android:label=</span><span style="color: #BA2121">&quot;@string/app_name&quot;</span>
        <span style="color: #7D9029">android:theme=</span><span style="color: #BA2121">&quot;@style/AppTheme&quot;</span> <span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;activity</span>
            <span style="color: #7D9029">android:name=</span><span style="color: #BA2121">&quot;com.example.mycontentprovider.MainActivity&quot;</span>
            <span style="color: #7D9029">android:label=</span><span style="color: #BA2121">&quot;@string/app_name&quot;</span> <span style="color: #008000; font-weight: bold">&gt;</span>
            <span style="color: #008000; font-weight: bold">&lt;intent-filter&gt;</span>
                <span style="color: #008000; font-weight: bold">&lt;action</span> <span style="color: #7D9029">android:name=</span><span style="color: #BA2121">&quot;android.intent.action.MAIN&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
                <span style="color: #008000; font-weight: bold">&lt;category</span> <span style="color: #7D9029">android:name=</span><span style="color: #BA2121">&quot;android.intent.category.LAUNCHER&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
            <span style="color: #008000; font-weight: bold">&lt;/intent-filter&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;/activity&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;provider</span> <span style="color: #7D9029">android:name=</span><span style="color: #BA2121">&quot;StudentsProvider&quot;</span>
           <span style="color: #7D9029">android:authorities=</span><span style="color: #BA2121">&quot;com.example.provider.College&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>
        <span style="color: #008000; font-weight: bold">&lt;/provider&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;/application&gt;</span>
 
<span style="color: #008000; font-weight: bold">&lt;/manifest&gt;</span>
</pre></div>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Following will be the content of <b>res/layout/activity_main.xml</b>
file to include a button to broadcast your custom intent:<o:p></o:p></span></p>
<!--  --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">&lt;LinearLayout</span> <span style="color: #7D9029">xmlns:android=</span><span style="color: #BA2121">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span style="color: #7D9029">android:layout_width=</span><span style="color: #BA2121">&quot;fill_parent&quot;</span>
    <span style="color: #7D9029">android:layout_height=</span><span style="color: #BA2121">&quot;fill_parent&quot;</span>
    <span style="color: #7D9029">android:orientation=</span><span style="color: #BA2121">&quot;vertical&quot;</span> <span style="color: #008000; font-weight: bold">&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;TextView</span>
    <span style="color: #7D9029">android:layout_width=</span><span style="color: #BA2121">&quot;fill_parent&quot;</span>
    <span style="color: #7D9029">android:layout_height=</span><span style="color: #BA2121">&quot;wrap_content&quot;</span>
    <span style="color: #7D9029">android:text=</span><span style="color: #BA2121">&quot;Name&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;EditText</span>
    <span style="color: #7D9029">android:id=</span><span style="color: #BA2121">&quot;@+id/txtName&quot;</span>
    <span style="color: #7D9029">android:layout_height=</span><span style="color: #BA2121">&quot;wrap_content&quot;</span>
    <span style="color: #7D9029">android:layout_width=</span><span style="color: #BA2121">&quot;fill_parent&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;TextView</span>
    <span style="color: #7D9029">android:layout_width=</span><span style="color: #BA2121">&quot;fill_parent&quot;</span>
    <span style="color: #7D9029">android:layout_height=</span><span style="color: #BA2121">&quot;wrap_content&quot;</span>
    <span style="color: #7D9029">android:text=</span><span style="color: #BA2121">&quot;Grade&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;EditText</span>
    <span style="color: #7D9029">android:id=</span><span style="color: #BA2121">&quot;@+id/txtGrade&quot;</span>
    <span style="color: #7D9029">android:layout_height=</span><span style="color: #BA2121">&quot;wrap_content&quot;</span>
    <span style="color: #7D9029">android:layout_width=</span><span style="color: #BA2121">&quot;fill_parent&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;Button</span>
    <span style="color: #7D9029">android:text=</span><span style="color: #BA2121">&quot;Add Name&quot;</span>
    <span style="color: #7D9029">android:id=</span><span style="color: #BA2121">&quot;@+id/btnAdd&quot;</span>
    <span style="color: #7D9029">android:layout_width=</span><span style="color: #BA2121">&quot;fill_parent&quot;</span>
    <span style="color: #7D9029">android:layout_height=</span><span style="color: #BA2121">&quot;wrap_content&quot;</span>
    <span style="color: #7D9029">android:onClick=</span><span style="color: #BA2121">&quot;onClickAddName&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;Button</span>
    <span style="color: #7D9029">android:text=</span><span style="color: #BA2121">&quot;Retrieve Students&quot;</span>
    <span style="color: #7D9029">android:id=</span><span style="color: #BA2121">&quot;@+id/btnRetrieve&quot;</span>
    <span style="color: #7D9029">android:layout_width=</span><span style="color: #BA2121">&quot;fill_parent&quot;</span>
    <span style="color: #7D9029">android:layout_height=</span><span style="color: #BA2121">&quot;wrap_content&quot;</span>
    <span style="color: #7D9029">android:onClick=</span><span style="color: #BA2121">&quot;onClickRetrieveStudents&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/LinearLayout&gt;</span>
</pre></div>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Make sure you have following content
of <b>res/values/strings.xml</b> file:<o:p></o:p></span></p>
<!--  --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #BC7A00">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;resources&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;string</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;app_name&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>MyContentProvider<span style="color: #008000; font-weight: bold">&lt;/string&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;string</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;action_settings&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>Settings<span style="color: #008000; font-weight: bold">&lt;/string&gt;</span>
    <span style="color: #008000; font-weight: bold">&lt;string</span> <span style="color: #7D9029">name=</span><span style="color: #BA2121">&quot;hello_world&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>Hello world!<span style="color: #008000; font-weight: bold">&lt;/string&gt;</span>
<span style="color: #008000; font-weight: bold">&lt;/resources&gt;</span>;
</pre></div>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Let's try to run our modified <span
class=SpellE><b>MyContentProvider</b></span> application we just created. I
assume you had created your <b>AVD</b> while doing environment setup. To run
the app from Eclipse, open one of your project's activity files and click Run </span><!--[if mso & !supportInlineShapes & supportFields]><span
style='mso-element:field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'></span>SHAPE <span
style='mso-spacerun:yes'></span>\* MERGEFORMAT <span style='mso-element:field-separator'></span><![endif]--><!--[if gte vml 1]><v:rect
 id="Rectangle_x0020_4" o:spid="_x0000_s1026" alt="Eclipse Run Icon" style='width:24pt;
 height:24pt;visibility:visible;mso-wrap-style:square;mso-left-percent:-10001;
 mso-top-percent:-10001;mso-position-horizontal:absolute;
 mso-position-horizontal-relative:char;mso-position-vertical:absolute;
 mso-position-vertical-relative:line;mso-left-percent:-10001;mso-top-percent:-10001;
 v-text-anchor:top' o:gfxdata="UEsDBBQABgAIAAAAIQC2gziS/gAAAOEBAAATAAAAW0NvbnRlbnRfVHlwZXNdLnhtbJSRQU7DMBBF
90jcwfIWJU67QAgl6YK0S0CoHGBkTxKLZGx5TGhvj5O2G0SRWNoz/78nu9wcxkFMGNg6quQqL6RA
0s5Y6ir5vt9lD1JwBDIwOMJKHpHlpr69KfdHjyxSmriSfYz+USnWPY7AufNIadK6MEJMx9ApD/oD
OlTrorhX2lFEilmcO2RdNtjC5xDF9pCuTyYBB5bi6bQ4syoJ3g9WQ0ymaiLzg5KdCXlKLjvcW893
SUOqXwnz5DrgnHtJTxOsQfEKIT7DmDSUCaxw7Rqn8787ZsmRM9e2VmPeBN4uqYvTtW7jvijg9N/y
JsXecLq0q+WD6m8AAAD//wMAUEsDBBQABgAIAAAAIQA4/SH/1gAAAJQBAAALAAAAX3JlbHMvLnJl
bHOkkMFqwzAMhu+DvYPRfXGawxijTi+j0GvpHsDYimMaW0Yy2fr2M4PBMnrbUb/Q94l/f/hMi1qR
JVI2sOt6UJgd+ZiDgffL8ekFlFSbvV0oo4EbChzGx4f9GRdb25HMsYhqlCwG5lrLq9biZkxWOiqY
22YiTra2kYMu1l1tQD30/bPm3wwYN0x18gb45AdQl1tp5j/sFB2T0FQ7R0nTNEV3j6o9feQzro1i
OWA14Fm+Q8a1a8+Bvu/d/dMb2JY5uiPbhG/ktn4cqGU/er3pcvwCAAD//wMAUEsDBBQABgAIAAAA
IQC5Ik2pxQIAANAFAAAOAAAAZHJzL2Uyb0RvYy54bWysVNtu2zAMfR+wfxD07tpOlYuNOkUbx0OB
biva7QMUWY6F2ZInKXG6Yf8+Sk7SpH0ZtvnBkEjpkIc84tX1rm3QlmsjlMxwfBFhxCVTpZDrDH/9
UgQzjIylsqSNkjzDz9zg6/n7d1d9l/KRqlVTco0ARJq07zJcW9ulYWhYzVtqLlTHJTgrpVtqYavX
YalpD+htE46iaBL2SpedVowbA9Z8cOK5x68qzuznqjLcoibDkJv1f+3/K/cP51c0XWva1YLt06B/
kUVLhYSgR6icWoo2WryBagXTyqjKXjDVhqqqBOOeA7CJo1dsnmracc8FimO6Y5nM/4Nln7YPGoky
wwQjSVto0SMUjcp1wxGYSm4YlGvJGtEZjh43Et0xJV3d+s6kcP2pe9COuenuFftmkFSLGq7zG9MB
EGgCcA8mrVVfc1oCgdhBhGcYbmMADa36j6qETOjGKl/VXaVbFwPqhXa+ec/H5vGdRQyMlxGZRdBi
Bq792kWg6eFyp439wFWL3CLDGrLz4HR7b+xw9HDExZKqEE0Ddpo28swAmIMFQsNV53NJ+Hb/TKJk
OVvOSEBGk2VAojwPbooFCSZFPB3nl/likce/XNyYpLUoSy5dmIP0YvJnrd0/gkE0R/EZ1YjSwbmU
jF6vFo1GWwrSL/znSw6el2PheRq+XsDlFaV4RKLbURIUk9k0IAUZB8k0mgVRnNwmk4gkJC/OKd0L
yf+dEuoznIxHY9+lk6RfcYv895YbTVthYbg0os0wSAM+d4imToFLWfq1paIZ1ielcOm/lALafWi0
16uT6KD+lSqfQa5agZxAeTAGYVEr/QOjHkZKhs33DdUco+ZOguSTmBA3g/yGjKcj2OhTz+rUQyUD
qAxbjIblwg5za9Npsa4hUuwLI9UNPJNKeAm7JzRktX9cMDY8k/2Ic3PpdO9PvQzi+W8AAAD//wMA
UEsDBBQABgAIAAAAIQBMoOks2AAAAAMBAAAPAAAAZHJzL2Rvd25yZXYueG1sTI9BS8NAEIXvgv9h
GcGL2I0iUmI2RQpiEaGYas/T7JgEs7NpdpvEf9+pHvQyw+MNb76XLSbXqoH60Hg2cDNLQBGX3jZc
GXjfPF3PQYWIbLH1TAa+KcAiPz/LMLV+5DcailgpCeGQooE6xi7VOpQ1OQwz3xGL9+l7h1FkX2nb
4yjhrtW3SXKvHTYsH2rsaFlT+VUcnIGxXA/bzeuzXl9tV573q/2y+Hgx5vJienwAFWmKf8dwwhd0
yIVp5w9sg2oNSJH4M8W7m4va/W6dZ/o/e34EAAD//wMAUEsBAi0AFAAGAAgAAAAhALaDOJL+AAAA
4QEAABMAAAAAAAAAAAAAAAAAAAAAAFtDb250ZW50X1R5cGVzXS54bWxQSwECLQAUAAYACAAAACEA
OP0h/9YAAACUAQAACwAAAAAAAAAAAAAAAAAvAQAAX3JlbHMvLnJlbHNQSwECLQAUAAYACAAAACEA
uSJNqcUCAADQBQAADgAAAAAAAAAAAAAAAAAuAgAAZHJzL2Uyb0RvYy54bWxQSwECLQAUAAYACAAA
ACEATKDpLNgAAAADAQAADwAAAAAAAAAAAAAAAAAfBQAAZHJzL2Rvd25yZXYueG1sUEsFBgAAAAAE
AAQA8wAAACQGAAAAAA==
" filled="f" stroked="f">
 <o:lock v:ext="edit" aspectratio="t"/>
 <w:wrap type="none"/>
 <w:anchorlock/>
</v:rect><![endif]--><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><![endif]--><!--[if mso & !supportInlineShapes & supportFields]><v:shape
 id="_x0000_i1025" type="#_x0000_t75" style='width:24pt;height:24pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span><![endif]--><span
style='font-size:12.0pt;font-family:"Times New Roman","serif";mso-fareast-font-family:
"Times New Roman"'>icon from the toolbar. Eclipse installs the app on your AVD
and starts it and if everything is fine with your setup and application, it
will display following Emulator window, be patience because it may take <span
class=SpellE>sometime</span> based on your computer speed:<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Now let's enter student <b>Name</b>
and <b>Grade</b> and finally click on <b>Add Name</b> button, this will add
student record in the database and will flash a message at the bottom showing <span
class=SpellE>ContentProvider</span> URI along with record number added in the
database. This operation makes use of our <span class=GramE><b>insert(</b></span><b>)</b>
method. Let's repeat this process to add few more students in the database of
our content provider.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>Once you are done with adding <span
class=SpellE>recrds</span> in the database, now <span class=SpellE>its</span>
time to ask <span class=SpellE>ContentProvider</span> to give us those records
back, so let's click <b>Retrieve Students</b> button which will fetch and
display all the records one by one which is as per our the implementation of
our <b>query()</b> method.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>You can write activities against
update and <span class=SpellE>delte</span> operations by providing callback
functions in <b>MainActivity.java</b> file and then modify user interface to
have buttons for update and deleted operations in the same way as we have done
for add and read operations.<o:p></o:p></span></p>

<p class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
line-height:normal'><span style='font-size:12.0pt;font-family:"Times New Roman","serif";
mso-fareast-font-family:"Times New Roman"'>This way you can use existing
Content Provider like Address Book or you can use Content Provider concept in
developing nice database oriented applications where you can perform all sort
of database operations like read, write, update and delete as explained above
in the example.<o:p></o:p></span></p>

</div>

</body>

</html>
